<mat-form-field [appearance]="appearance" [floatLabel]="floatLabel">
  <mat-label>{{label}}</mat-label>

  <ng-container *ngIf="controlType == 'input'">
    <input matInput type="text" [(ngModel)]="_value" [errorStateMatcher]="errorStateMatcher" [required]="_required"
      [placeholder]="placeholder" [disabled]="disabled" [readonly]="readonly" [hidden]="hidden" aria-label="input"/>
  </ng-container>
  <ng-container *ngIf="controlType == 'textarea'">
    <textarea matInput type="text" [(ngModel)]="_value" [errorStateMatcher]="errorStateMatcher" [required]="_required"
      [placeholder]="placeholder" [disabled]="disabled" [readonly]="readonly" [hidden]="hidden" aria-label="textarea"></textarea>
  </ng-container>

  <ng-container matSuffix>
    <mat-progress-spinner [mode]="'indeterminate'" [diameter]="20" *ngIf="formControl.pending">
    </mat-progress-spinner>
    <button mat-icon-button aria-label="Clear" (click)="_value = null" *ngIf="!formControl.pending && showClearBtn"
      [disabled]="disabled || readonly">
      <mat-icon>close</mat-icon>
    </button>
  </ng-container>

  <mat-hint>{{hint}}</mat-hint>

  <mat-error>{{getErrorMessage()}}</mat-error>
</mat-form-field>
